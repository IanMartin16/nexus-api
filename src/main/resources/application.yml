server:
  port: ${PORT:8080}

management:
  endpoints:
    web:
      exposure:
        include: health,info

# Defaults (prod): DB ON
spring:
  datasource:
    url: ${SPRING_DATASOURCE_URL:${DATABASE_URL:}}
    username: ${SPRING_DATASOURCE_USERNAME:}
    password: ${SPRING_DATASOURCE_PASSWORD:}
    exclude:
      - org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration
      - org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration
      - org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration

  jpa:
    hibernate:
      ddl-auto: validate
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect

  flyway:
    enabled: true

openai:
  api-key: ${OPENAI_API_KEY:}
  base-url: ${OPENAI_BASE_URL:https://api.openai.com/v1}
  model: ${OPENAI_MODEL:gpt-4.1}
  timeout-ms: ${OPENAI_TIMEOUT_MS:30000}
  max-output-tokens: ${OPENAI_MAX_OUTPUT_TOKENS:600}

nexus:
  web-secret: ${NEXUS_WEB_SECRET:}


